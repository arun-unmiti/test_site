<div class="row mb-2">
  <div class="col-sm-12 col-md-12 col-lg-12">
    <h5 class="add-title pointer"> <button class="btn btn-sm btn-back mr-2" title="Back" (click)="back()">
      <img loading="lazy" src="{{assetsFolder}}/images/icon-left-arrow.svg"></button>  Add Client
    </h5>
  </div>
</div>


<div class="row">
  <form action="" autocomplete="off" [formGroup]="regForm" (ngSubmit)="createClient()">
    <input type="hidden" [name]="csrfTokenName" formControlName="csrf_token" [value]="csrfToken" />
    <div class="col-sm-12 col-md-12 col-lg-12">
      <div class="card">
        <div class="card-body">

          <div class="row mt-4">
            <div class="col-sm-12 col-md-12 col-lg-6">
              <div class="p-fluid p-grid">
                <div class="p-field">
                  <span class="p-float-label">
                    <input type="text" id="name" formControlName="name" class="form-control input_type p-inputtext"
                      pInputText />
                    <label for="name">Client Name</label>
                  </span>
                </div>
                <div *ngIf="submitted && f.name.errors" class="text-danger">
                  <div *ngIf="f.name.errors.required">Client name is required</div>
                </div>
              </div>
            </div>

            <div class="col-sm-12 col-md-12 col-lg-6">
              <div class="p-fluid p-grid">
                <div class="p-field">
                  <span class="p-float-label">
                    <input type="tel" id="phone" class="form-control input_type p-inputtext" pInputText
                      formControlName="phone" maxlength="10" />
                    <label for="phone">Mobile Number</label>
                  </span>
                </div>
                <div *ngIf="submitted && f.phone.errors" class="text-danger">
                  <p *ngIf="f.phone.errors.required">Mobile number is required</p>
                  <p *ngIf="f.phone.errors.minlength">Mobile number must be 10 digits</p>
                  <p *ngIf="f.phone.errors.pattern">Please enter valid mobile number</p>
                </div>
              </div>
            </div>

            <div class="col-sm-12 col-md-12 col-lg-6 mb-3">
              <div class="p-fluid p-grid">
                <div class="p-field">
                  <span class="p-float-label">
                    <textarea id="address" formControlName="address" rows="1" cols="30"
                      class="form-control input_type p-inputtext" pInputTextarea></textarea>
                    <label for="address">Address</label>
                  </span>
                </div>

              </div>
              <div *ngIf="submitted && f.address.errors" class="text-danger-alert">
                <p *ngIf="f.address.errors.required">Address is required</p>
              </div>
            </div>
            <div class="col-sm-12 col-md-12 col-lg-6 mb-3">
              <!-- <div class="text-center mt-2">
                <a href="javascript:void(0)" class="pointer" (click)="open(reset)"><span class="text-pass ml-3"> <img
                      src="assets/images/Edit_Blue.svg"> Upload
                    Client Logo</span></a>
              </div> -->
              <!-- <input type="file" (change)="fileChangeEvent($event)" /> -->
              <!-- <input type="file" class="form-control" id="file" formControlName="file"
              (change)="fileChangeEvent($event)">

              <image-cropper [imageChangedEvent]="imageChangedEvent" [maintainAspectRatio]="true" [aspectRatio]="4 / 3"
                format="png" (imageCropped)="imageCropped($event)" (imageLoaded)="imageLoaded()" (cropperReady)="cropperReady()"
                (loadImageFailed)="loadImageFailed()"></image-cropper> -->

              <!-- <img [src]="croppedImage" /> -->

              <label class="file">
                <button class="btn btn-primary" id="file" 
                  (click)="compressFile()" type="button">Upload Logo</button>
              </label>
              <!-- <button (click)="compressFile()" class="form-control">Upload Logo</button> -->
              <img *ngIf="imgResultAfterCompress" [src]="imgResultAfterCompress" alt="" height="50" class="ml-2">
            </div>




            <div class="col-sm-12 col-md-12 col-lg-12">
              <span class="title_text">Point of Contact</span>
            </div>
            <div class="col-sm-12 col-md-12 col-lg-6 mt-2">
              <div class="p-fluid p-grid">
                <div class="p-field">
                  <span class="p-float-label">
                    <input type="text" id="pocname" class="form-control input_type p-inputtext" pInputText
                      formControlName="pocname" />
                    <label for="pocname">Name</label>
                  </span>
                </div>
                <div *ngIf="submitted && f.pocname.errors" class="text-danger">
                  <p *ngIf="f.pocname.errors.required">POC Name is required</p>
                </div>
              </div>
            </div>

            <div class="col-sm-12 col-md-12 col-lg-6 mt-2">
              <div class="p-fluid p-grid">
                <div class="p-field">
                  <span class="p-float-label">
                    <input type="text" id="pocemail" class="form-control input_type p-inputtext" pInputText
                      formControlName="pocemail" />
                    <label for="pocemail">Email</label>
                  </span>
                </div>
                <div *ngIf="submitted && f.pocemail.errors" class="text-danger">
                  <p *ngIf="f.pocemail.errors.required">POC Email is required</p>
                  <p *ngIf="f.pocemail.errors.email">Invalid Email format</p>
                </div>
              </div>
            </div>

            <!-- <div class="col-sm-12 col-md-12 col-lg-6">
              <div class="p-fluid p-grid">
                <div class="p-field">
                  <span class="p-float-label">
                    <input type="text" id="pocphone" class="form-control input_type p-inputtext" pInputText
                      formControlName="pocphone" maxlength="10" />
                    <label for="pocphone">Phone </label>
                  </span>
                </div>
                <div *ngIf="submitted && f.pocphone.errors" class="text-danger">
                  <p *ngIf="f.pocphone.errors.required">POC Phone number is required</p>
                  <p *ngIf="f.pocphone.errors.minLength">Phone number must be 10 digits</p>
                </div>
              </div>
            </div> -->

            <!-- <div class="col-sm-12 col-md-12 col-lg-6">
              <div class="p-fluid p-grid">
                <div class="p-field">
                  <span class="p-float-label">
                    <input type="tel" id="pocphone" class="form-control input_type p-inputtext" pInputText
                      formControlName="pocphone" maxlength="10" />
                    <label for="pocphone">Mobile Number</label>
                  </span>
                </div>
                <div *ngIf="submitted && f.pocphone.errors" class="text-danger">
                  <p *ngIf="f.pocphone.errors.required"> POC mobile number is required</p>
                  <p *ngIf="f.pocphone.errors.minlength"> POC mobile number must be 10 digits</p>
                  <p *ngIf="f.pocphone.errors.pattern">Please enter valid mobile number</p>
                </div>
              </div>
            </div> -->

            <!-- <div class="col-sm-12 col-md-12 col-lg-6">
                    <div class="p-fluid p-grid">
                        <div class="p-field">
                            <span class="p-float-label">
                              <input type="text" id="inputtext" class="form-control input_type p-inputtext" pInputText formControlName="value6" />
                              <label for="POC">POC Name</label>
                            </span>
                          </div>
                    </div>
                </div> -->
            <div class="col-sm-12 col-md-12 col-lg-12">
              <button type="submit" class="btn btn_apply text-white float-right">Submit</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </form>
</div>
<!-- </div> -->

<ng-template #reset let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Upload Client Logo</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <!-- <form [formGroup]="uploadForm" (ngSubmit)="upload()">

          <div class="preview" *ngIf="imgFile">
              <img [src]="imgFile" style="width:100%; height:250px">
          </div>

          <div class="form-group text-center">

              <label class="file">
                  <input type="file" class="form-control" id="file" formControlName="file"
                      (change)="onImageChange($event)">
                  <span class="file-custom"></span>
              </label>
          </div>
          <button type="button" class="btn btn-danger" (click)="modal.close('Save click')">Cancel</button>
          <button class="btn btn-success float-right mr-1" type="submit">Upload File</button>
      </form> -->
    <!-- <input type="file" (change)="fileChangeEvent($event)" />

    <image-cropper [imageChangedEvent]="imageChangedEvent" [maintainAspectRatio]="true" [aspectRatio]="4 / 3"
      format="png" (imageCropped)="imageCropped($event)" (imageLoaded)="imageLoaded()" (cropperReady)="cropperReady()"
      (loadImageFailed)="loadImageFailed()"></image-cropper>

    <img [src]="croppedImage" /> -->
  </div>


</ng-template>